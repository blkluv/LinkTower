---
import { formatDate } from "@/lib/util";

const { post } = Astro.props;

const postItemClasses = [
  // Base styling
  "overflow-hidden rounded-lg shadow-md transition-colors ring-2",
  
  // DaisyUI semantic colors
  "bg-base-100 ring-base-300",
  "hover:bg-base-200 hover:ring-base-content/20"
].join(" ");

const gradientClasses = [
  // Base styling with DaisyUI-friendly gradient
  "w-full h-48 bg-gradient-to-br from-base-200 to-base-300"
].join(" ");

const titleClasses = [
  // Base styling
  "text-xl font-semibold",
  
  // DaisyUI semantic colors
  "text-base-content"
].join(" ");

const descriptionClasses = [
  // Base styling  
  "mt-2",
  
  // DaisyUI semantic colors
  "text-base-content/70"
].join(" ");

const timeClasses = [
  // Base styling
  "mt-4 block text-sm",
  
  // DaisyUI semantic colors
  "text-base-content/60"
].join(" ");
---

<li class={["h-96", postItemClasses].join(" ")}>
  <a href={`/blog/${post.slug}`} class="block flex flex-col h-full">
    {post.data.image ? (
      <img src={post.data.image.src} alt={post.data.imageAlt ?? post.data.title} class="w-full h-48 object-cover flex-shrink-0" />
    ) : (
      <div class={["flex-shrink-0", gradientClasses].join(" ")}></div>
    )}
    <div class="p-4 flex flex-col flex-grow overflow-hidden">
      <h2 class={["line-clamp-2 overflow-hidden", titleClasses].join(" ")}
      >
        {post.data.title}
      </h2>
      <p class={["line-clamp-3 overflow-hidden", descriptionClasses].join(" ")}
      >
        {post.data.description}
      </p>
      <time class={["mt-auto pt-2", timeClasses].join(" ")}
      >
        {formatDate(post.data.publicationDate)}
      </time>
    </div>
  </a>
</li>
